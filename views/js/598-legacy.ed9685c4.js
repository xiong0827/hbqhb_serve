"use strict";(self["webpackChunkwxcli"]=self["webpackChunkwxcli"]||[]).push([[598],{24598:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"buyout"},e._l(e.orderList,(function(t){return r("van-card",{directives:[{name:"show",rawName:"v-show",value:t.goodsinfo,expression:"order.goodsinfo"}],key:t.order_id,attrs:{tag:"特价",num:"1",price:t.goodsinfo.gprice||{},title:t.ordertime,thumb:t.goodsinfo.gphoto},scopedSlots:e._u([{key:"tags",fn:function(){return[r("van-tag",{attrs:{plain:"",type:"danger"}},[e._v(e._s(e.orderStatus(t.orderstatus)))]),r("van-cell",{attrs:{value:t.goodsinfo.title}})]},proxy:!0},{key:"footer",fn:function(){return[r("van-button",{attrs:{size:"small",hairline:"",type:"info"},on:{click:function(r){return e.$router.push({name:"orderinfo",query:{order_id:t.order_id}})}}},[e._v(e._s(1==t.orderstatus?"去支付":"查看详情"))]),1==t.orderstatus?r("van-button",{attrs:{size:"small",hairline:"",type:"info"},on:{click:function(r){return e.cancelOrder(t.order_id)}}},[e._v("取消订单")]):e._e(),r("van-button",{attrs:{size:"small",hairline:"",type:"danger"},on:{click:function(r){return e.deleteOrder(t.order_id)}}},[e._v("删除订单")])]},proxy:!0}],null,!0)})})),1)},a=[],o=r(4367),i=(r(18508),r(58256)),s=(r(69814),r(61404)),c=r(16198),u=(r(78975),r(34665)),d={mounted:function(){this.getMainOrderList()},methods:{getMainOrderList:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("order/getMainOrder");case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t["catch"](0),t.abrupt("return",e.$dialog.alert({message:t.t0}).then((function(){})));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},cancelOrder:function(e){var t=this;s.Z.confirm({title:"提示",message:"确定要取消吗",confirmButtonText:"确认",cancelButtonText:"取消"}).then((0,c.Z)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("order/cancelOrder",e);case 3:n=r.sent,t.$dialog.alert({message:n}).then((function(){t.getMainOrderList()})),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$dialog.alert({message:r.t0}).then((function(){}));case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))).catch((function(){(0,i.Z)("取消操作")}))},deleteOrder:function(e){var t=this;s.Z.confirm({title:"提示",message:"确定要删除吗",confirmButtonText:"确认",cancelButtonText:"取消"}).then((0,c.Z)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("order/deleteOrder",e);case 3:n=r.sent,t.$dialog.alert({message:n}).then((function(){t.getMainOrderList()})),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$dialog.alert({message:r.t0}).then((function(){}));case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))).catch((function(){(0,i.Z)("取消操作")}))}},computed:(0,o.Z)((0,o.Z)({},(0,u.rn)("order",["orderList"])),{},{orderStatus:function(){return function(e){switch(e){case 1:e="未支付";break;case 2:e="已支付";break;case 3:e="已取消";break;default:break}return e}}})},l=d,f=r(43736),h=(0,f.Z)(l,n,a,!1,null,"3b779649",null),p=h.exports}}]);