"use strict";(self["webpackChunkwxcli"]=self["webpackChunkwxcli"]||[]).push([[470],{90470:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchResult"},[s("Searchinput",{attrs:{placeholdervalue:"搜索关键词",toppx:"40"}}),s("div",{staticClass:"nav"},[s("van-tabs",{attrs:{"title-inactive-color":"#2F2F4A","title-active-color":"#F75858",background:"#EDF0F5"},on:{click:t.onClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[0==t.goodsCount?s("van-empty",{attrs:{description:"没有找到相关商品"}}):t._e(),s("van-tab",{staticClass:"tab1",attrs:{name:"zonghe",title:"综合"}},[t.goodsCount?s("van-list",{staticClass:"goodslist",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"300",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:e,expression:"goods"}],key:o,staticClass:"nav1",on:{click:function(s){return t.$router.push({name:"goodsinfo",query:{goods_id:e.goods_id}})}}},[e.goodsphoto?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):t._e(),s("div",{staticClass:"nav1Info"},[s("h3",[t._v(t._s(e.title))]),s("b",[t._v(t._s(e.gclassone))]),s("h4",[t._v(t._s(e.gprice))])])])})),0):t._e()],1),s("van-tab",{staticClass:"tab1",attrs:{name:"price",title:"价格"}},[t.goodsCount?s("van-list",{staticClass:"goodslist",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"300",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:e,expression:"goods"}],key:o,staticClass:"nav1",on:{click:function(s){return t.$router.push({name:"goodsinfo",query:{goods_id:e.goods_id}})}}},[e.goodsphoto?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):t._e(),s("div",{staticClass:"nav1Info"},[s("h3",[t._v(t._s(e.title))]),s("b",[t._v(t._s(e.gclassone))]),s("h4",[t._v(t._s(e.gprice))])])])})),0):t._e()],1),s("van-tab",{staticClass:"tab1",attrs:{title:"时间",name:"time"}},[t.goodsCount?s("van-list",{staticClass:"goodslist",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"300",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:e,expression:"goods"}],key:o,staticClass:"nav1",on:{click:function(s){return t.$router.push({name:"goodsinfo",query:{goods_id:e.goods_id}})}}},[e.goodsphoto?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):t._e(),s("div",{staticClass:"nav1Info"},[s("h3",[t._v(t._s(e.title))]),s("b",[t._v(t._s(e.gclassone))]),s("h4",[t._v(t._s(e.gprice))])])])})),0):t._e()],1)],1)],1)],1)},i=[],a=s(4367),r=s(16198),n=(s(78975),s(34665)),c={name:"SearchResult",data:function(){return{searchcode:"",pagenum:6,atpage:1,isLoading:!1,loading:!1,finished:!1,error:!1,list:[],total:0,gpricesort:0,pricestatus:!0,gtimesort:0,timestatus:!0,activeName:"zonghe"}},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.gpricesort||0!=t.gtimesort){e.next=5;break}return e.next=3,t.$store.dispatch("goods/getGoodsList",{pagenum:t.pagenum,atpage:t.atpage,searchkeyword:t.$route.query.searchcode});case 3:e.next=13;break;case 5:if(!t.gpricesort){e.next=10;break}return e.next=8,t.$store.dispatch("goods/getGoodsList",{pagenum:t.pagenum,atpage:t.atpage,searchkeyword:t.$route.query.searchcode,gpricesort:t.gpricesort});case 8:e.next=13;break;case 10:if(!t.gtimesort){e.next=13;break}return e.next=13,t.$store.dispatch("goods/getGoodsList",{pagenum:t.pagenum,atpage:t.atpage,searchkeyword:t.$route.query.searchcode,gtimesort:t.gtimesort});case 13:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getGoodsList();case 2:for(s in t.total=t.goodsCount,0==t.goodsCount&&(t.list=[],t.finished=!0),t.total=t.goodsInfoList.length,t.goodsInfoList)t.list.push(t.goodsInfoList[s]);t.loading=!1,t.list.length>=t.goodsCount&&(t.finished=!0);case 8:case"end":return e.stop()}}),e)})))()},onLoad:function(){this.getList(),this.atpage++},onRefresh:function(){this.finished=!1,this.loading=!0,this.atpage=1,this.list=[],this.onLoad()},onClick:function(t,e){"price"==t?(this.gtimesort=0,this.atpage=1,this.pricestatus?(this.gpricesort=-1,this.pricestatus=!1,this.list=[],this.getList()):(this.gpricesort=1,this.pricestatus=!0,this.list=[],this.getList())):"time"==t?(this.gpricesort=0,this.atpage=1,this.timestatus?(this.gtimesort=-1,this.timestatus=!1):(this.gtimesort=1,this.timestatus=!0),this.list=[],this.getList()):"zonghe"==t&&(this.gtimesort=0,this.gpricesort=0,this.list=[],this.getList())}},computed:(0,a.Z)({},(0,n.rn)("goods",["goodsInfoList","goodsCount"]))},d=c,g=s(1001),l=(0,g.Z)(d,o,i,!1,null,"4ddc65a1",null),u=l.exports}}]);