"use strict";(self["webpackChunkwxcli"]=self["webpackChunkwxcli"]||[]).push([[863],{863:function(t,s,o){o.r(s),o.d(s,{default:function(){return l}});var i=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"searchResult"},[o("Searchinput",{attrs:{placeholdervalue:"搜索关键词",toppx:"40"}}),o("div",{staticClass:"nav"},[o("van-tabs",{attrs:{"title-inactive-color":"#2F2F4A","title-active-color":"#F75858",background:"#EDF0F5"},on:{click:t.onClick},model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[0==t.goodsCount?o("van-empty",{attrs:{description:"没有找到相关商品"}}):t._e(),o("van-tab",{staticClass:"tab1",attrs:{name:"zonghe",title:"综合"}},[t.goodsCount?o("van-list",{staticClass:"goodslist",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"300",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(s){t.error=s}},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.list,(function(s,i){return o("div",{directives:[{name:"show",rawName:"v-show",value:s,expression:"goods"}],key:i,staticClass:"nav1",on:{click:function(o){return t.$router.push({name:"goodsinfo",query:{goods_id:s.goods_id}})}}},[s.goodsphoto?o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):t._e(),o("div",{staticClass:"nav1Info"},[o("h3",[t._v(t._s(s.title))]),o("b",[t._v(t._s(s.gclassone))]),o("h4",[t._v(t._s(s.gprice))])])])})),0):t._e()],1),o("van-tab",{staticClass:"tab1",attrs:{name:"price",title:"价格"}},[t.goodsCount?o("van-list",{staticClass:"goodslist",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"300",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(s){t.error=s}},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.list,(function(s,i){return o("div",{directives:[{name:"show",rawName:"v-show",value:s,expression:"goods"}],key:i,staticClass:"nav1",on:{click:function(o){return t.$router.push({name:"goodsinfo",query:{goods_id:s.goods_id}})}}},[s.goodsphoto?o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):t._e(),o("div",{staticClass:"nav1Info"},[o("h3",[t._v(t._s(s.title))]),o("b",[t._v(t._s(s.gclassone))]),o("h4",[t._v(t._s(s.gprice))])])])})),0):t._e()],1),o("van-tab",{staticClass:"tab1",attrs:{title:"时间",name:"time"}},[t.goodsCount?o("van-list",{staticClass:"goodslist",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"300",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.onLoad,"update:error":function(s){t.error=s}},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.list,(function(s,i){return o("div",{directives:[{name:"show",rawName:"v-show",value:s,expression:"goods"}],key:i,staticClass:"nav1",on:{click:function(o){return t.$router.push({name:"goodsinfo",query:{goods_id:s.goods_id}})}}},[s.goodsphoto?o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):t._e(),o("div",{staticClass:"nav1Info"},[o("h3",[t._v(t._s(s.title))]),o("b",[t._v(t._s(s.gclassone))]),o("h4",[t._v(t._s(s.gprice))])])])})),0):t._e()],1)],1)],1)],1)},e=[],a=o(4665),r={name:"SearchResult",data(){return{searchcode:"",pagenum:6,atpage:1,isLoading:!1,loading:!1,finished:!1,error:!1,list:[],total:0,gpricesort:0,pricestatus:!0,gtimesort:0,timestatus:!0,activeName:"zonghe"}},mounted(){this.getGoodsList()},methods:{async getGoodsList(){0==this.gpricesort&&0==this.gtimesort?await this.$store.dispatch("goods/getGoodsList",{pagenum:this.pagenum,atpage:this.atpage,searchkeyword:this.$route.query.searchcode}):this.gpricesort?await this.$store.dispatch("goods/getGoodsList",{pagenum:this.pagenum,atpage:this.atpage,searchkeyword:this.$route.query.searchcode,gpricesort:this.gpricesort}):this.gtimesort&&await this.$store.dispatch("goods/getGoodsList",{pagenum:this.pagenum,atpage:this.atpage,searchkeyword:this.$route.query.searchcode,gtimesort:this.gtimesort})},async getList(){await this.getGoodsList(),this.total=this.goodsCount,0==this.goodsCount&&(this.list=[],this.finished=!0),this.total=this.goodsInfoList.length;for(const t in this.goodsInfoList)this.list.push(this.goodsInfoList[t]);this.loading=!1,this.list.length>=this.goodsCount&&(this.finished=!0)},onLoad(){this.getList(),this.atpage++},onRefresh(){this.finished=!1,this.loading=!0,this.atpage=1,this.list=[],this.onLoad()},onClick(t,s){"price"==t?(this.gtimesort=0,this.atpage=1,this.pricestatus?(this.gpricesort=-1,this.pricestatus=!1,this.list=[],this.getList()):(this.gpricesort=1,this.pricestatus=!0,this.list=[],this.getList())):"time"==t?(this.gpricesort=0,this.atpage=1,this.timestatus?(this.gtimesort=-1,this.timestatus=!1):(this.gtimesort=1,this.timestatus=!0),this.list=[],this.getList()):"zonghe"==t&&(this.gtimesort=0,this.gpricesort=0,this.list=[],this.getList())}},computed:{...(0,a.rn)("goods",["goodsInfoList","goodsCount"])}},n=r,d=o(3736),h=(0,d.Z)(n,i,e,!1,null,"4ddc65a1",null),l=h.exports}}]);