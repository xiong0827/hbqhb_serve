"use strict";(self["webpackChunkwxcli"]=self["webpackChunkwxcli"]||[]).push([[469],{35469:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"maindata"},[n("Backtop"),n("div",{staticClass:"head"},[e._m(0),n("div",{staticClass:"headRight"},[n("van-image",{attrs:{round:"",width:"60px",height:"60px",src:e.userInfo.avatarurl}}),n("UpLoaderOne")],1)]),n("div",{staticClass:"input"},[n("van-cell-group",[n("van-field",{attrs:{label:"昵称",placeholder:e.userInfo.nickname},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})],1),n("van-cell-group",[n("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:e.gender,label:"性别",placeholder:e.userInfo.gender},on:{click:function(t){e.showPicker=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirmSex,cancel:function(t){e.showPicker=!1}}})],1)],1),n("van-cell-group",[n("van-cell",{attrs:{title:"生日",placeholder:e.userInfo.birthday},on:{click:function(t){e.show=!0}},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}}),n("van-calendar",{attrs:{"min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.onConfirmDate},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1),n("SelectSite",{attrs:{address:e.userInfo.address}})],1),n("div",{staticClass:"footer"},[n("van-button",{staticClass:"btn",attrs:{round:"",type:"info"},on:{click:e.clearinfo}},[e._v("取消")]),n("van-button",{staticClass:"btn",attrs:{round:"",type:"info"},on:{click:e.setInfo}},[e._v("保存")])],1)],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"headLeft"},[n("b",[e._v("头像")])])}],o=n(4367),s=n(16198),i=(n(78975),n(92222),n(41539),n(54747),n(34665)),c={name:"MainData",mounted:function(){try{this.$store.dispatch("user/getUserInfo")}catch(e){Toast("获取用户信息失败")}this.$on("updateAddress",(function(e){this.address=e}))},data:function(){return{show:!1,minDate:new Date(1900,0,1),maxDate:new Date(2006,0,31),tipsMsg:"保存成功",columns:["男","女"],showPicker:!1,birthday:null,nickname:null,address:null,avatarurl:[],gender:null}},methods:{onClickLeft:function(){Toast("返回")},formatDate:function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},onConfirmDate:function(e){this.show=!1,this.date=this.formatDate(e)},getphoto:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.avatarurl=[],e.forEach((function(e){t.avatarurl.push(e)}));case 2:case"end":return n.stop()}}),n)})))()},clearinfo:function(){location.reload()},setInfo:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("user/updateInfo");case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onConfirmSex:function(e){this.usex=e,this.showPicker=!1}},computed:(0,o.Z)({},(0,i.rn)("user",["userInfo"]))},l=c,u=n(1001),d=(0,u.Z)(l,a,r,!1,null,"88374a92",null),f=d.exports}}]);