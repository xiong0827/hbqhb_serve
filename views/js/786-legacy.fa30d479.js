"use strict";(self["webpackChunkwxcli"]=self["webpackChunkwxcli"]||[]).push([[786],{11786:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("div",{staticClass:"Ellipse"}),t("div",{staticClass:"Ellipse2"}),t("span",{staticClass:"back"},[t("router-link",{attrs:{to:"welcome"}},[e._v("<<返回")])],1),t("span",{staticClass:"tiaoguo"},[t("router-link",{attrs:{to:"/register"}},[e._v("注册>>")])],1),e._m(0),t("div",{staticClass:"phone"},[t("van-icon",{staticClass:"icon",attrs:{name:"manager",color:"#700BEF",size:"30"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone_id,expression:"phone_id"}],class:{outline:0==e.check.checkPhone()},attrs:{type:"text",placeholder:"手机号"},domProps:{value:e.phone_id},on:{input:function(s){s.target.composing||(e.phone_id=s.target.value)}}})],1),t("div",{staticClass:"password"},[t("van-icon",{staticClass:"icon",attrs:{name:"lock",color:"#700BEF",size:"30"},on:{click:e.showpassword}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",class:{outline:0==e.check.checkPassword()},attrs:{type:"password",name:"",placeholder:"密码"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})],1),e.loginshow?t("span",{staticClass:"button",on:{click:e.login}},[t("a",[e._v("登录")])]):t("span",{staticClass:"button",style:{opacity:.5}},[t("a",[e._v("登录")])])])},r=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",{staticClass:"logintitle"},[t("p",[e._v("登录账号")])])}],o=t(16198),a=t(4367),i=(t(78975),t(22121)),c=t(34665),h={data:function(){return{phone_id:"",password:""}},computed:(0,a.Z)({loginshow:function(){return!(!this.check.checkPhone()||!this.check.checkPassword())},check:function(){return new i.Z({phone:this.phone_id,password:this.password})}},(0,c.rn)("user",["token"])),methods:{login:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch("user/userLogin",{phone_id:e.phone_id,password:e.password});case 3:e.$dialog.alert({message:"登录成功"}).then((function(){e.$router.push({name:"home"})})),s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),e.$dialog.alert({message:s.t0.message}).then((function(){e.password=""}));case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},showpassword:function(e){"text"==this.$refs.password.type?this.$refs.password.type="password":this.$refs.password.type="text"}}},u=h,p=t(43736),l=(0,p.Z)(u,n,r,!1,null,"2ac04eb6",null),d=l.exports},22121:function(e,s,t){t.d(s,{Z:function(){return i}});t(21703);function n(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,s,t){return s&&r(e.prototype,s),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var a=t(23796),i=(t(74916),t(77601),t(41539),function(){function e(s){var t=s.phone,r=s.code,o=s.password,i=s.repassword;n(this,e),(0,a.Z)(this,"checkPhone",(function(){if(!this.phone)return 0;var e=/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|16[0|1|2|3|4|5|6|7|8|9]|17[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9]|19[0|1|2|3|4|5|6|7|8|9])\d{8}$/;return!!e.test(this.phone)})),(0,a.Z)(this,"checkCode",(function(e){return this.code?this.code==e:0})),(0,a.Z)(this,"checkPassword",(function(){if(!this.password)return 0;var e=/^[a-zA-Z]\S{6,12}$/;return!!e.test(this.password)})),(0,a.Z)(this,"checkRePassword",(function(){return this.checkPassword()?this.password==this.repassword:0})),this.phone=t,this.code=r,this.password=o,this.repassword=i}return o(e,[{key:"checkAll",value:function(e){var s=[this.checkCode(e),this.checkRePassword(),this.checkPassword(),this.checkPhone()],t=s.every((function(e){return!0===e}));return t}}]),e}())}}]);