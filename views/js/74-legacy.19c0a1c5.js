"use strict";(self["webpackChunkwxcli"]=self["webpackChunkwxcli"]||[]).push([[74],{82074:function(s,t,e){e.r(t),e.d(t,{default:function(){return g}});var o=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"classifycontainer"},[e("Searchinput",{attrs:{placeholdervalue:"搜索更多关键词",toppx:"40"}}),s.classList?e("div",{staticClass:"classifylist"},s._l(s.classList,(function(t){return e("li",{key:t.classname,class:{active:s.gclassone==t.classname},on:{click:function(e){return s.getclassgoods(t.classname)}}},[e("a",{attrs:{href:""}},[e("img",{attrs:{src:t.classurl,alt:""}}),e("p",[s._v(s._s(t.classname))])])])})),0):s._e(),e("van-list",{directives:[{name:"show",rawName:"v-show",value:s.goodsCount,expression:"goodsCount"}],staticClass:"classinfo",attrs:{finished:s.finished,"finished-text":"没有更多了",offset:"300",error:s.error,"error-text":"请求失败，点击重新加载"},on:{load:s.onLoad,"update:error":function(t){s.error=t}},model:{value:s.loading,callback:function(t){s.loading=t},expression:"loading"}},s._l(s.list,(function(t,o){return e("li",{directives:[{name:"show",rawName:"v-show",value:t._id,expression:"goods._id"}],key:o,on:{click:function(e){return s.$router.push({name:"goodsinfo",query:{goods_id:t.goods_id}})}}},[t.goodsphoto[0]?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.goodsphoto[0],expression:"goods.goodsphoto[0]"}],attrs:{alt:""}}):s._e(),e("a",{attrs:{href:""}},[s._v(s._s(t.title))]),e("i",[s._v(s._s(t.gprice))])])})),0)],1)},n=[],a=e(4367),i=e(16198),r=(e(78975),e(74916),e(15306),e(34665)),c={data:function(){return{searchcode:"",gclassone:this.$route.query.classname,pagenum:4,atpage:1,isLoading:!1,loading:!1,finished:!1,error:!1,list:[],total:0}},mounted:function(){this.$store.dispatch("goods/getClass"),this.getList()},beforeUpdate:function(){},methods:{getclassgoods:function(s){this.$router.replace({name:"classify",query:{classname:s}})},getGoodsList:function(){var s=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$store.dispatch("goods/getGoodsList",{pagenum:s.pagenum,atpage:s.atpage,gclassone:s.gclassone});case 2:case"end":return t.stop()}}),t)})))()},getList:function(){var s=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.getGoodsList();case 2:for(e in s.total=s.goodsCount,0==s.goodsCount&&(s.list=[],s.finished=!0),s.total=s.goodsInfoList.length,s.goodsInfoList)s.list.push(s.goodsInfoList[e]);s.loading=!1,s.list.length>=s.goodsCount&&(s.finished=!0);case 8:case"end":return t.stop()}}),t)})))()},onLoad:function(){this.getList(),this.atpage++},onRefresh:function(){this.finished=!1,this.loading=!0,this.atpage=1,this.list=[],this.onLoad()}},computed:(0,a.Z)({},(0,r.rn)("goods",["goodsInfoList","goodsCount","classList"]))},l=c,u=e(1001),d=(0,u.Z)(l,o,n,!1,null,"7aaa6ee0",null),g=d.exports}}]);